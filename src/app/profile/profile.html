<mat-card class="profile-card">
  <h2 class="title">Profile</h2>

  @if (vm$ | async; as vm) {

    <div class="row">
      <div class="label">Logged in as:</div>
      <div class="value">{{ vm.username }}</div>
    </div>

    <div class="row">
      <div class="label">JWT System Role (User or Admin):</div>
      <div class="value">{{ vm.jwtSystemRole }}</div>
    </div>

    <div class="row">
      <div class="label">Team Role (Owner or Member):</div>
      <div class="value">{{ vm.teamRole }}</div>
    </div>

    <h3 class="subtitle">Teams belong to</h3>

    @if (vm.teams.length > 0) {
      <mat-list>
        @for (t of vm.teams; track t.teamId) {
          <mat-list-item>
            {{ t.name }} — {{ t.myRole }}
          </mat-list-item>
        }
      </mat-list>
    } @else {
      <p class="muted">No teams loaded yet.</p>
    }

  } @else {
    <p class="muted">Loading profile…</p>
  }
</mat-card>

